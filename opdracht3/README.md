# frontend voor designers - opdracht 3

Voor het vak frontend voor designers, een vak wat gegeven wordt bij de opleiding Communicatie en Multimedia Design aan de Hogeschool van Amsterdam, heb ik deze website gemaakt. Het ging bij deze opdracht ging het voornamelijk om het ophalen van externe data en deze met javascript in de html te laden. Een tweede eis aan de opdracht was dat de gebruiker het ontwerp op verschillende manieren moest kunnen bedienen. Ik zal hier de belangrijkste stukken code toelichte.

Het inladen van de externe data heb ik gedaan door middel van XMLHttpRequest. Deze haalt informatie op uit de gegeven url. (https://koopreynders.github.io/frontendvoordesigners/opdracht3/json/movies.json)= url van json file.
Dit heb ik gedaan door eerst een variabele aan te maken met daar in de url van de json file. Vervolgens heb ik een XMLHttpRequest object aangemaakt. Hier na open ik de request door request.open();. Hierbij vertel vertel ik wat de request moet gaan doen. Ik wil dat de gegeven url wordt opgehaald. Door middel van request.open('GET', requestURL); doe ik dat.
Vervolgens geef ik mee om wat voor datatype het gaat. In dit geval json. Daarom de regel request.responseType = 'json';. Hierna verstuur ik het request door request.send();. Dit ging over de regels 8 t/m 13 in script2.js.

Dan maak ik een function aan met daar in wat ik wil wat er gebeurt wanneer de data geladen is. Ik spreek binnen deze function een andere function (function getTitles()) aan die de opgehaalde data in de html zet. Deze function wordt pas aan geroepen als de data geladen is zodat alle data goed terug komt in de html.

Aan de function getTitles geef ik als parameter 'jsonObj' mee. In de function is de data van het json object nu aan te roepen. De json file is een grote array met daar in verschillende films met bijbehorende informatie. Ik wil dat voor elke film een article wordt aangemaakt met daar in een img, h2, p en button. Omdat ik dit voor elke film wil, maak ik gebruik van een for loop die door de array heen loopt en voor elke film onder andere een article aan maakt. De loop stopt wanneer hij langs elk element in de array is gegaan. Dit is omday ik in de for loop zeg dat de variabele i niet groter mag zijn dan de lengte van filmTitle (i < filmTitle.length). Elke article die aan wordt gemaakt in de loop wordt een child van het html element <section>. Dit doe ik door section.appendChild(article);.

Ook heb ik een "read more" button aan gemaakt mij elke film. Deze button togglet tussen twee css classes die iets zeggen over de variabele newP (dit is de tekst die verschijnd wanneer er op read more geklikt wordt). newP heeft normaal de class "hide". Deze class zegt display: none; zodat newP niet meteen zichtbaat is. De toggle tussen de classes doe ik door een if else statement te maken die checkt wat de textContent is van de button. De if else statement staat in een function die wordt aangeroepen wanneer er op de button wordt geklikt. Wanneer de button een textContent van "read more" heeft en er wordt op geklikt zal de textContent worden veranderd naar "read less" en newP krijgt de class "longPlot". Zo is newP niet meer gehide.

Om te zorgen dat niet elke newP de class "longPlot" krijgt wanneer er op een button geklikt wordt, zeg ik this.parentNode.querySelector(p.hide); Met this wordt de button aangesproken waar op dat moment op geklikt wordt. Met this.parentNode wordt de parent van de button aangesproken. Met this.parentNode.querySelector(p.hide) wordt de p met de class "hide" aangesproken van die de zelfde parent heeft als de button waar op geklikt wordt. Dit is nodig aangezien de loop meerder articles, h2's en p's aan maakt. Als niet specifiek wordt vermeld dat het om een child van de parent van die specifieke button gaat zullen alle newP's de class "longPlot" krijgen.

De tweede eis aan de opdracht was dat de gebruiker het ontwerp met meer dan 1 manier kon bedienen. Naast dat de gebruiker kan klikken op de buttons kan de gebruiker ook door de films heen scrollen door op 'tab' te klikken. Wanneer er op tab geklikt wordt zal de focus op het eerste article komen. Wanneer er nog een keer op tab geklikt wordt zal de focus op het tweede article komen, etc. Op deze manier kan die gebruiker snel door de films heen scrollen door middel van tab.

Dit heb ik gedaan door de articles die in de loop aanworden gemaakt een tabindex van 0 te geven (article.setAttribute("tabindex", "0");). Zo weet de browser dat de focus op ook op articles kan komen wanneer er wordt getabt. Buttons kunnen normaal altijd een focus krijgen en er kan dus ook tussen getabt worden. Aangezien ik wil dat de gebruiker snel door de articles heen kan tabben, heb ik de buttons niet tab-baar gemaakt. Dit heb ik gedaan door btn.setAttribute("tabindex", "-1");. Door -1 als waarde te geven bij tabindex kan er daar niet op gefocust worden met tab.

Mijn opdracht is hier te vinden:
https://basvandenbrink98.github.io/frontendvoordesigners/opdracht3/
